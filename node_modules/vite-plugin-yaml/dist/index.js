"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const js_yaml_1 = require("js-yaml");
const tosource_1 = __importDefault(require("tosource"));
const ext = /\.ya?ml$/;
const yamlPlugin = {
    transforms: [
        {
            test({ path }) {
                return ext.test(path);
            },
            transform({ code }) {
                const transformedCode = `const data = ${tosource_1.default(js_yaml_1.safeLoad(code))}\n`;
                return transformedCode + 'export default data';
            }
        }
    ]
};
module.exports = yamlPlugin;
//# sourceMappingURL=index.js.map